{% extends "base.twig" %}

{% block title %}Création personnage - Division{% endblock %}

{% block styles %}
	<link rel="stylesheet" href="/public/css/form.css">
	<link rel="stylesheet" href="/public/css/createCharacter.css">
{% endblock %}

{% block body %}
	<section class="container">
		<img draggable="false" class="characters" src="/public/images/kid_goku.png" alt="Images de Goku">
		<div class="create-container">
			<img draggable="false" class="circle circle-one" src="/public/images/db_2star.png" alt="Dragon ball à 2 étoiles">
			<div class="form-container">
				<h1 class="opacity">Créer un personnage</h1>

				{% for flash in flashes %}
					<div class="alert alert-{{ flash.type }} alert-dismissible fade show" role="alert">
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
						{{ flash.message|raw }}
					</div>
				{% endfor %}

				<form method="post" action="" enctype="multipart/form-data">
					<div class="form-group mt-3">
						<label for="characterId">ID:</label>
						<input type="text" name="Id" id="characterId" class="form-control">
					</div>
					<div class="form-group mt-3">
						<label for="image">Image:</label>
						<input type="file" class="form-control" id="image" name="Image"
							   accept="image/">
					</div>
					<div class="form-group mt-3">
						<label for="name">Nom:</label>
						<input type="text" class="form-control" id="name" name="Name"
							   required>
					</div>
					<div class="form-group mt-3">
						<label for="rarity">Rareté :</label>
						<select class="form-control" id="rarity" name="Rarity" required>
							{% for rarity in rarities %}
								<option value="{{ rarity.value }}">{{ rarity.value|title }}</option>
							{% endfor %}
						</select>
					</div>
					<div class="form-group mt-3">
						<label class="form-check-label" for="isLfCheckbox">Legends Limited</label>
						<input class="form-check-input" type="checkbox" name="IsLF" id="isLfCheckbox">
					</div>
					<div class="form-group mt-3">
						<label for="updateColor">Couleur: </label>
						<select class="form-control" id="updateColor" name="Color" required>
							{% for color in colors %}
								<option value="{{ color.value }}">{{ color.value|title }}</option>
							{% endfor %}
						</select>
					</div>
					<div class="form-group mt-3">
						<label for="updateTags">Tags: </label>
						<select id="tags" class="form-control form-select" multiple name="Tags[]">
							{% for tag in tags %}
								<option value="{{ tag.getName() }}">{{ tag.getName() }}</option>
							{% endfor %}
						</select>
					</div>
					<div class="mt-3">
						<button type="submit">Créer le personnage</button>
					</div>
				</form>

			</div>
			<img draggable="false" class="circle circle-two" src="/public/images/db_4star.png" alt="Dragon ball à 4 étoiles">
		</div>
		<img draggable="false" class="characters" src="/public/images/kamesennin.png" alt="Image de Kamesennin">
	</section>
{% endblock %}

{% block script %}
	<script>
		$('#tags').select2({
			theme: "bootstrap-5",
			placeholder: 'Sélectionner les tags',
			language: {
				noResults: () => 'Aucun tag trouvé'
			},
			closeOnSelect: false,
		})
	</script>
{% endblock %}